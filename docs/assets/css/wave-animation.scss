---
---

/**
 * Aquarius Wave-Animated Header
 * Multi-layer SVG turbulence animation for flowing water effect
 */

/* ============================================
   SVG Filter Definitions
   ============================================ */

.page__hero--overlay {
  position: relative;
  overflow: hidden;
}

/* SVG filters container - invisible but defines our distortion effects */
.wave-filters {
  position: absolute;
  width: 0;
  height: 0;
  visibility: hidden;
}

/* ============================================
   Three Overlay Layers with Different Effects
   ============================================ */

.page__hero--overlay::before,
.page__hero--overlay::after,
.page__hero-image-wrapper::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: inherit;
  background-size: cover;
  background-position: center;
  pointer-events: none;
}

/* Layer 1 (::before) - Top third - Gentle turbulence */
.page__hero--overlay::before {
  filter: url(#turbulence-gentle);
  -webkit-mask: linear-gradient(to bottom,
    rgba(0,0,0,0.8) 0%,
    rgba(0,0,0,0.6) 33%,
    rgba(0,0,0,0) 35%
  );
  mask: linear-gradient(to bottom,
    rgba(0,0,0,0.8) 0%,
    rgba(0,0,0,0.6) 33%,
    rgba(0,0,0,0) 35%
  );
  animation: wave-flow-1 12s ease-in-out infinite;
  opacity: 0.9;
}

/* Layer 2 (::after) - Middle third - Medium turbulence */
.page__hero--overlay::after {
  filter: url(#turbulence-medium);
  -webkit-mask: linear-gradient(to bottom,
    rgba(0,0,0,0) 30%,
    rgba(0,0,0,0.7) 35%,
    rgba(0,0,0,0.7) 65%,
    rgba(0,0,0,0) 70%
  );
  mask: linear-gradient(to bottom,
    rgba(0,0,0,0) 30%,
    rgba(0,0,0,0.7) 35%,
    rgba(0,0,0,0.7) 65%,
    rgba(0,0,0,0) 70%
  );
  animation: wave-flow-2 15s ease-in-out infinite;
  animation-delay: -4s;
  opacity: 0.85;
}

/* Layer 3 - Bottom third - Strong turbulence */
.page__hero-image-wrapper::before {
  filter: url(#turbulence-strong);
  -webkit-mask: linear-gradient(to bottom,
    rgba(0,0,0,0) 65%,
    rgba(0,0,0,0.6) 70%,
    rgba(0,0,0,0.8) 100%
  );
  mask: linear-gradient(to bottom,
    rgba(0,0,0,0) 65%,
    rgba(0,0,0,0.6) 70%,
    rgba(0,0,0,0.8) 100%
  );
  animation: wave-flow-3 18s ease-in-out infinite;
  animation-delay: -8s;
  opacity: 0.8;
}

/* ============================================
   Wave Flow Animations
   ============================================ */

@keyframes wave-flow-1 {
  0%, 100% {
    transform: translateX(0) scale(1.08);
    filter: url(#turbulence-gentle) brightness(1);
  }
  50% {
    transform: translateX(-40px) scale(1.12);
    filter: url(#turbulence-gentle) brightness(1.12);
  }
}

@keyframes wave-flow-2 {
  0%, 100% {
    transform: translateX(0) translateY(0) scale(1.08);
    filter: url(#turbulence-medium) brightness(1);
  }
  33% {
    transform: translateX(30px) translateY(-20px) scale(1.12);
    filter: url(#turbulence-medium) brightness(1.08);
  }
  66% {
    transform: translateX(-30px) translateY(20px) scale(1.1);
    filter: url(#turbulence-medium) brightness(1.1);
  }
}

@keyframes wave-flow-3 {
  0%, 100% {
    transform: translateX(0) scale(1.1);
    filter: url(#turbulence-strong) brightness(0.95);
  }
  40% {
    transform: translateX(50px) scale(1.15);
    filter: url(#turbulence-strong) brightness(1.05);
  }
  80% {
    transform: translateX(-50px) scale(1.13);
    filter: url(#turbulence-strong) brightness(1);
  }
}

/* ============================================
   Additional Parallax Effect on Scroll
   ============================================ */

@media (prefers-reduced-motion: no-preference) {
  .page__hero-image {
    transition: transform 0.3s ease-out;
  }

  /* Add shimmer overlay for extra water effect */
  .page__hero--overlay::after {
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.1) 25%,
      rgba(255, 255, 255, 0) 50%,
      rgba(255, 255, 255, 0.1) 75%,
      rgba(255, 255, 255, 0) 100%
    );
    background-size: 200% 200%;
    animation: wave-flow-2 15s ease-in-out infinite,
               shimmer 8s linear infinite;
  }
}

@keyframes shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* ============================================
   Accessibility - Respect Reduced Motion
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  .page__hero--overlay::before,
  .page__hero--overlay::after,
  .page__hero-image-wrapper::before {
    animation: none;
    transform: none;
  }
}

/* ============================================
   Performance Optimizations
   ============================================ */

.page__hero--overlay::before,
.page__hero--overlay::after,
.page__hero-image-wrapper::before {
  will-change: transform, filter;
  backface-visibility: hidden;
  perspective: 1000px;
}

/* ============================================
   Disable Wave Effect for Specific Pages
   Use classes: no-wave in frontmatter
   ============================================ */

.no-wave .page__hero--overlay::before,
.no-wave .page__hero--overlay::after,
.no-wave .page__hero-image-wrapper::before {
  content: none;
  animation: none;
  filter: none;
  display: none;
}
