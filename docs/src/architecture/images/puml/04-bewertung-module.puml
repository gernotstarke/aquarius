@startuml
skinparam packageStyle rectangle

package "Bewertung Modul" {
    rectangle "BewertungRouter" <<REST>> as BewertungRouter
    rectangle "BewertungService" <<Business Logic>> as BewertungService
    rectangle "BewertungRepository" <<Data Access>> as BewertungRepository
    rectangle "StartRepository" <<Data Access>> as StartRepository

    package "Domain" {
        class Start {
            +id: int
            +durchgang_id: int
            +kind_id: int
            +reihenfolge: int
            +status: StartStatus
        }

        class Bewertung {
            +id: int
            +start_id: int
            +kampfrichter_id: int
            +vorlaeufige_punkte: Decimal
            +timestamp: datetime
        }

        class Endpunkte {
            +start_id: int
            +endpunkte: Decimal
            +gestrichene_werte: List[Decimal]
            +durchschnitt: Decimal
            +schwierigkeitsfaktor: Decimal
        }

        enum StartStatus {
            WARTEND
            AUFGERUFEN
            ABGESCHLOSSEN
        }
    }
}

' Externe AbhÃ¤ngigkeiten
package "Wettkampf Modul" {
    rectangle "DurchgangService" as DurchgangService
}

package "Saisonplanung Modul" {
    rectangle "FigurService" as FigurService
}

' Beziehungen
BewertungRouter --> BewertungService
BewertungService --> BewertungRepository
BewertungService --> StartRepository
BewertungService --> DurchgangService : liest Durchgang
BewertungService --> FigurService : liest Schwierigkeitsfaktor

BewertungRepository --> Bewertung
StartRepository --> Start
@enduml
