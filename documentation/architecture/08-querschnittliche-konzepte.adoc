== Querschnittliche Konzepte

Dieses Kapitel beschreibt übergreifende Konzepte, die in mehreren Bausteinen zum Einsatz kommen.

// 8.1 Domänenmodell und Fachliche Architektur
=== 8.1 Domänenmodell und Fachliche Architektur

==== 8.1.1 Ubiquitous Language

Das System verwendet konsequent die Fachbegriffe der Domäne:

* *Verein*, *Team*, *Kind* (nicht: Club, Group, Child)
* *Wettkampf*, *Durchgang*, *Start* (nicht: Competition, Round, Attempt)
* *Kampfrichter*, *Punktrichter*, *Offizieller* (nicht: Judge, Referee, Official)
* *Figur*, *Schwierigkeitsfaktor* (nicht: Figure, Difficulty)

Diese Begriffe werden durchgängig verwendet: in der Datenbank, API, UI und Dokumentation.

==== 8.1.2 Fachliche Module (Bounded Contexts)

----
┌─────────────────────────────────────────────────────────┐
│                     Aquarius System                      │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  ┌────────────────┐    ┌────────────────┐              │
│  │  Stammdaten    │    │ Saisonplanung  │              │
│  │                │    │                │              │
│  │ • Verein       │    │ • Saison       │              │
│  │ • Team         │    │ • Figuren      │              │
│  │ • Kind         │    │ • Wettkämpfe   │              │
│  │ • Offizieller  │    │ • Schwimmbäder │              │
│  └────────────────┘    └────────────────┘              │
│                                                          │
│  ┌────────────────┐    ┌────────────────┐              │
│  │  Anmeldung     │    │  Wettkampf     │              │
│  │                │    │                │              │
│  │ • Registrierung│    │ • Stationen    │              │
│  │ • Startnummern │    │ • Gruppen      │              │
│  │ • Validierung  │    │ • Durchgänge   │              │
│  └────────────────┘    └────────────────┘              │
│                                                          │
│  ┌────────────────┐    ┌────────────────┐              │
│  │  Bewertung     │    │  Auswertung    │              │
│  │                │    │                │              │
│  │ • Punkteingabe │    │ • Ranglisten   │              │
│  │ • Berechnung   │    │ • Preisvergabe │              │
│  │ • Validierung  │    │ • Export       │              │
│  └────────────────┘    └────────────────┘              │
└─────────────────────────────────────────────────────────┘
----

*Abhängigkeiten zwischen Modulen:*

* Anmeldung → Stammdaten, Saisonplanung
* Wettkampf → Anmeldung, Stammdaten
* Bewertung → Wettkampf
* Auswertung → Bewertung, Wettkampf



==== Wiederkehrender Aufbau fachlicher Module

Jedes fachliche Modul folgt einer *einheitlichen 3-Schichten-Architektur*:

----
┌──────────────────────────────────────┐
│         Router (API Layer)           │  ← REST-Endpunkte, HTTP-Handling
│  - Request-Validierung (Pydantic)    │
│  - Response-Serialisierung           │
│  - HTTP-Status-Codes                 │
└─────────────┬────────────────────────┘
              │
              │ DTOs (Data Transfer Objects)
              ▼
┌──────────────────────────────────────┐
│        Service (Business Layer)      │  ← Geschäftslogik, Orchestrierung
│  - Business-Rules                    │
│  - Workflow-Koordination             │
│  - Inter-Modul-Kommunikation         │
│  - Transaktionssteuerung             │
└─────────────┬────────────────────────┘
              │
              │ Domain-Objekte
              ▼
┌──────────────────────────────────────┐
│      Repository (Data Layer)         │  ← Datenbankzugriff
│  - CRUD-Operationen                  │
│  - Queries                           │
│  - ORM-Mapping                       │
└──────────────────────────────────────┘
----

